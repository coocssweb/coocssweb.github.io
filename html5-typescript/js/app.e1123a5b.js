(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"9W30":function(e,t,i){"use strict";i.d(t,"a",function(){return o});i("f+ED");var n=i("0lfv"),s=i("HqPC"),a=i("s68/");class o{constructor(e,t){this.haveLoadedPercent=0,this.haveLoadedCount=0,this.haveLoaded=!1,this.haveLoadedHalf=!1,this.images=e,this.loadedCallback=t||a.a,this.handleDestory=this.handleDestory.bind(this),this.$loadingContainer=document.querySelector(`.${o.prefix}`),this.$loadingProgress=document.querySelector(`.${o.prefix}-progress`),this.$loadingValue=document.querySelector(`.${o.prefix}-value`),this.animationEvent=Object(s.a)(),this.bindEvents()}bindEvents(){this.$loadingContainer.addEventListener(this.animationEvent,this.handleDestory)}handleDestory(e){e.target===e.currentTarget&&(this.unbindEvents(),this.$loadingContainer.parentNode.removeChild(this.$loadingContainer))}unbindEvents(){this.$loadingContainer.removeEventListener(this.animationEvent,this.handleDestory)}handleLoadEnd(){this.$loadingContainer.classList.add("doOut")}setLoadingStatus(){this.$loadingValue&&(this.$loadingValue.innerHTML=`${this.haveLoadedPercent}%`),this.$loadingProgress&&(this.$loadingProgress.style.width=`${this.haveLoadedPercent}%`)}countDown(e){setTimeout(()=>{this.setLoadingStatus(),50!==this.haveLoadedPercent&&80!==this.haveLoadedPercent&&this.haveLoadedPercent<100?(this.haveLoadedPercent+=1,this.countDown(e)):50===this.haveLoadedPercent?(this.haveLoadedPercent+=this.haveLoadedHalf?1:0,this.countDown(e)):80===this.haveLoadedPercent?(this.haveLoadedPercent+=this.haveLoaded?1:0,this.countDown(e)):this.haveLoadedPercent>99&&(this.loadedCallback(),this.handleLoadEnd())},e)}start(){this.countDown(50),Object(n.a)(this.images,e=>{this.haveLoadedCount=e,this.haveLoadedHalf=this.haveLoadedCount>this.images.length/2}).then(()=>{this.haveLoaded=!0,this.haveLoadedPercent=this.haveLoadedPercent<90?90:this.haveLoadedPercent})}}o.prefix="globalLoading"},"9cwZ":function(e,t,i){"use strict";i("wrEB");var n=i("s68/"),s=i("HqPC");class a{constructor(e){e=Object.assign({},a.defaultOptions,e),this.createElement(e),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.animationEvent=Object(s.a)(),this.bindEvents(),e.duration&&(this.timeId=setTimeout(()=>{this.close()},e.duration))}createElement(e){this.$dom=document.createElement("div"),this.$dom.classList.add(a.prefix),this.$dom.classList.add(`${a.prefix}--${e.theme}`);const t=document.createElement("div");t.classList.add(`${a.prefix}-content`),t.innerHTML=e.message,this.$dom.append(t),e.closable&&(this.$dom.classList.add(`${a.prefix}--closable`),this.$domClosable=document.createElement("i"),this.$domClosable.classList.add(`${a.prefix}-close`),t.append(this.$domClosable)),document.body.appendChild(this.$dom)}bindEvents(){this.$dom.addEventListener(this.animationEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.addEventListener("click",this.handleCloseClick)}unbindEvents(){this.$dom.removeEventListener(this.animationEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.removeEventListener("click",this.handleCloseClick)}destory(){this.timeId&&(clearTimeout(this.timeId),this.timeId=null),this.unbindEvents(),document.body.removeChild(this.$dom)}handleTransitionEnd(e){e.target===e.currentTarget&&this.$dom.classList.contains("doOut")&&this.destory()}handleCloseClick(){this.close()}close(){this.$dom.classList.add("doOut")}}a.defaultOptions={message:"",duration:3e3,theme:"default",closable:!1,callback:n.a},a.prefix="globalTip";i("9W30");var o=i("zF3x"),d=i("C2U9");const h=Object(o.a)().isIos();class r{static formatURL(e){let t="";if("string"==typeof e&&0===e.indexOf("http"))t=e;else if("string"==typeof e){const i=d.a.parse(window.location.href),n=80===i.port?"":`:${i.port}`,s=0===e.indexOf("/")?`${i.path}/`:"";t=`${document.location.protocol}//${i.hostname}${n}${s}${e}`}else t=d.a.format(e);return t}static push(e){window.location.href=r.formatURL(e)}static replace(e){window.location.replace(r.formatURL(e))}static goBack(){h&&document.referrer?r.replace(document.referrer):window.history.go(-1)}static reload(){window.location.reload()}}class c{static open(){c.$domMask||(c.$domMask=document.createElement("div"),c.$domMask.classList.add(c.prefix),c.$domMask.addEventListener(c.animationEvent,()=>{c.$domMask.classList.contains("doOut")&&(c.$domMask.classList.remove("doIn"),c.$domMask.classList.remove("doOut"))}),document.body.append(c.$domMask)),c.$domMask.classList.add("doIn")}static close(){c.$domMask.classList.add("doOut")}}c.prefix="globalMask",c.animationEvent=Object(s.a)();var l=function(e,t,i,n){return new(i||(i=Promise))(function(s,a){function o(e){try{h(n.next(e))}catch(e){a(e)}}function d(e){try{h(n.throw(e))}catch(e){a(e)}}function h(e){e.done?s(e.value):new i(function(t){t(e.value)}).then(o,d)}h((n=n.apply(e,t||[])).next())})};class m{constructor(e){this.options=Object.assign({},m.defaultOptions,e),this.handleOkClick=this.handleOkClick.bind(this),this.handleCancelClick=this.handleCancelClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.transitionEvent=Object(s.b)(),this.createElement(),this.bindEvents()}createElement(){this.$domContainer=document.createElement("div"),this.$domContainer.classList.add(m.prefix),this.$domContainer.style.width=`${this.options.width}px`,this.$domContainer.style.marginLeft=`-${this.options.width/2}px`;const e=this.createHeaderElement(),t=document.createElement("div");t.classList.add(`${m.prefix}-content`),t.innerHTML=this.options.content;const i=this.createFooterElement();this.$domContainer.appendChild(e),this.$domContainer.appendChild(t),i&&this.$domContainer.appendChild(i),c.open(),document.body.append(this.$domContainer),this.$domContainer.style.marginTop=`-${this.$domContainer.clientHeight/2}px`}createHeaderElement(){const e=document.createElement("div");if(e.classList.add(`${m.prefix}-header`),this.options.title){const t=document.createElement("div");t.classList.add(`${m.prefix}-title`),t.innerHTML=this.options.title,e.appendChild(t)}return this.options.closable&&(this.$domClosable=document.createElement("i"),this.$domClosable.classList.add(`${m.prefix}-close`),this.$domContainer.append(this.$domClosable)),e}createFooterElement(){let e;return(this.options.okLabel||this.options.cancelLabel)&&((e=document.createElement("div")).classList.add(`${m.prefix}-footer`),this.options.okLabel&&(this.$domOk=document.createElement("button"),this.$domOk.innerHTML=this.options.okLabel,this.$domOk.classList.add(`${m.prefix}-btn`),this.$domOk.classList.add(`${m.prefix}-btn--ok`),e.appendChild(this.$domOk)),this.options.cancelLabel&&(this.$domCancel=document.createElement("button"),this.$domCancel.innerHTML=this.options.cancelLabel,this.$domCancel.classList.add(`${m.prefix}-btn`),this.$domCancel.classList.add(`${m.prefix}-btn--cancel`),e.appendChild(this.$domCancel))),e}bindEvents(){this.$domContainer.addEventListener(this.transitionEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.addEventListener("click",this.handleCloseClick),this.$domCancel&&this.$domCancel.addEventListener("click",this.handleCancelClick),this.$domOk&&this.$domOk.addEventListener("click",this.handleOkClick)}unbindEvents(){this.$domContainer.removeEventListener(this.transitionEvent,this.handleTransitionEnd),this.$domClosable&&this.$domClosable.removeEventListener("click",this.handleCloseClick),this.$domCancel&&this.$domCancel.removeEventListener("click",this.handleCancelClick),this.$domOk&&this.$domOk.removeEventListener("click",this.handleOkClick)}handleTransitionEnd(){this.$domContainer.classList.contains("doOut")&&this.destory()}destory(){this.unbindEvents(),document.body.removeChild(this.$domContainer)}handleOkClick(){return l(this,void 0,void 0,function*(){yield this.options.okCallback(),this.close()})}handleCancelClick(){return l(this,void 0,void 0,function*(){yield this.options.cancelCallback(),this.close()})}handleCloseClick(){this.close()}close(){this.$domContainer.classList.add("doOut"),c.close()}}m.defaultOptions={title:"",closable:!0,content:"",width:500,okLabel:"确认",cancelLabel:"取消",okCallback:n.a,cancelCallback:n.a},m.prefix="globalConfirm";var u=e=>{const{data:t,key:i,callback:s=n.a}=e;let a=t[i];Object.defineProperty(t,i,{get:()=>a,set(e){a!==e&&(s(e,a),a=e)}})};i("WQdz");class p{trackPage(){}trackEvent(){}}var $=i("NP1j");function v(e,t){this.data=e,this.watchs=t,this.$router=r,this.$route=d.a.parse(window.location.href),this.$statistic=p}v.prototype={bindEvents:n.a,init:n.a,$tip:function(e){new a(e)},$ajax:function(e){return Object($.a)(e)},$jsonp:function(e){return Object($.b)(e)},$confirm:function(e){return new m(e)},_init:function(){if(this.bindEvents(),this.data)for(let e in this.data)Object.defineProperty(this,e,{get(){return this.data[e]},set(t){this.data[e]=t}});if(this.watchs)for(let e in this.watchs)Object.defineProperty(this,e,{get(){return this.watchs[e]},set(t){this.watchs[e]=t}}),u({data:this.watchs,key:e,callback:this[`${e}Handler`].bind(this)});this.init()}},v.extends=((...e)=>{const t=v,i=function(e,t){v.call(this,e,t),this._init()};return(i.prototype=Object.create(t.prototype)).constructor=i,[...e].map(e=>{((e,t)=>{for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(i.prototype,e)}),i});var f=v;i.d(t,"a",function(){return b});class b{constructor(e){const t=Object.assign({},e);return delete t.data,delete t.watchs,new(f.extends(t))(e.data,e.watchs)}}},NP1j:function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return h});var n=i("r9l/");const s={url:"",method:"get",data:{},contentType:n.a.Urlencoded,xhrFields:{withCredentials:!1},token:"",async:!0},a=e=>{e=Object.assign({},e,s);const t=new XMLHttpRequest;let i;if(e.contentType===n.a.Urlencoded){const t=Object.keys(e.data);i=t.map(t=>`${t} = ${e.data[t]}`).join("&")}else(e.contentType=n.a.FormData)&&(i=e.data);return""!==e.token&&t.setRequestHeader("Authorization",e.token),t.setRequestHeader("Content-Type",e.contentType),t.setRequestHeader("Accept",e.dataType),t.open(e.method,e.url,e.async),e.xhrFields.withCredentials&&(t.withCredentials=e.xhrFields.withCredentials),new Promise((e,n)=>{t.onreadystatechange=function(){4===t.readyState&&(t.status>=200&&t.status<=304?e(JSON.parse(t.responseText)):n(JSON.parse(t.responseText)))},t.send(i)})},o={url:"",data:{}};let d=0;const h=e=>{if(!(e=Object.assign({},o,e)).url)return Promise.resolve(null);const t=document.createElement("script"),i=`jsonp_${d++}`;e.jsonpCallback=i;const n=Object.keys(e.data).map(t=>{if("callback"!==t)return`${t} = ${e.data[t]}`}).join("&"),s=`${e.url}${e.url.indexOf("?")>-1?"&":"?"}${n}`;return t.setAttribute("src",s),new Promise((e,n)=>{window[i]=(n=>{delete window[i],document.head.removeChild(t),e(n)}),document.head.append(t)})}},WQdz:function(e,t,i){"use strict";var n=i("HqPC"),s=i("0lfv"),a=i("NP1j");class o{}var d=function(e,t,i,n){return new(i||(i=Promise))(function(s,a){function o(e){try{h(n.next(e))}catch(e){a(e)}}function d(e){try{h(n.throw(e))}catch(e){a(e)}}function h(e){e.done?s(e.value):new i(function(t){t(e.value)}).then(o,d)}h((n=n.apply(e,t||[])).next())})};class h extends o{constructor(e,t){super(),this.created=!1,this.shareInfo=t,this.animationEvent=Object(n.a)(),this.handleDestory=this.handleDestory.bind(this),this.handleOut=this.handleOut.bind(this),this.handleLoadSignature(e).then(({appId:e,timestamp:t,nonceStr:i,signature:n})=>{this.setConfig({appId:e,timestamp:t,nonceStr:i,signature:n}),this.setShareInfo(this.shareInfo)})}handleLoadSignature(e){return d(this,void 0,void 0,function*(){return yield Object(s.b)("//res.wx.qq.com/open/js/jweixin-1.2.0.js"),this.wechat=window.__wx__,yield Object(a.a)({url:e,dataType:"json",data:{url:location.href,t:(new Date).getTime()},xhrFields:{withCredentials:!0}})})}setConfig({appId:e,timestamp:t,nonceStr:i,signature:n}){this.wechat.config({debug:!1,appId:e,timestamp:t,nonceStr:i,signature:n,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","closeWindow","getLocation","openLocation","getLocation","chooseImage","previewImage","downloadImage"]})}setShareInfo(e){this.wechat.error(function(e){console.log(e)}),this.wechat.ready(function(){["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"].map(t=>{this.wechat[t](Object.assign({},e,{trigger(e){},success(e){},fail(){},cancel(){}}))})})}previewImage(e,t){this.wechat.previewImage({images:e,current:e[t]})}closeWindow(){this.wechat.closeWindow()}callShare(){this.created||(this.created=!0,this.$domShare=document.createElement("div"),this.$domShare.classList.add(h.prefix),this.$domShare.classList.add(`${h.prefix}—wechat`),this.bindEvents(),document.body.appendChild(this.$domShare))}bindEvents(){this.$domShare.addEventListener("click",this.handleOut),this.$domShare.addEventListener(this.animationEvent,this.handleDestory)}unbindEvents(){this.$domShare.removeEventListener("click",this.handleOut),this.$domShare.removeEventListener(this.animationEvent,this.handleDestory)}handleOut(){this.$domShare.classList.add("doOut")}handleDestory(){this.$domShare.classList.contains("doOut")&&(this.created=!1,this.unbindEvents(),document.body.removeChild(this.$domShare))}}h.prefix="globalShare";var r=function(e,t,i,n){return new(i||(i=Promise))(function(s,a){function o(e){try{h(n.next(e))}catch(e){a(e)}}function d(e){try{h(n.throw(e))}catch(e){a(e)}}function h(e){e.done?s(e.value):new i(function(t){t(e.value)}).then(o,d)}h((n=n.apply(e,t||[])).next())})};class c extends o{constructor(e,t){super(),this.shareInfo=t,this.loadQQ(e).then(()=>{this.setShareInfo()})}loadQQ(e){return r(this,void 0,void 0,function*(){yield Object(s.b)(`//open.mobile.qq.com/sdk/qqapi.js?_bid=${e}`),this.qq=window.__mqq__})}setShareInfo(){let{title:e,desc:t,link:i,imgUrl:n}=this.shareInfo;this.qq.data.setShareInfo({title:e,desc:t,share_url:i,image_url:n})}callShare(){this.qq.ui.showShareMenu()}}var l=i("t2H3");class m extends o{constructor(e){super(),this.haveOpend=!1,this.setShareInfo(e),this.handleDestory=this.handleDestory.bind(this),this.handleOut=this.handleOut.bind(this),this.openShare=this.openShare.bind(this),this.animationEvent=Object(n.a)()}setShareInfo(e){this.weiboUrl=encodeURI("http://v.t.sina.com.cn/share/share.php?"+`url=${e.link}&title=${e.title}/${e.desc}&`+`charset=utf-8&pic=${e.imgUrl}&searchPic=true`),this.qzoneUrl=encodeURI("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey"+`?url=${e.link}&title=${e.title}&desc=${e.desc}`+`&charset=utf-8&pics=${e.imgUrl}&site=${e.link}&otype=share`)}callShare(){this.haveOpend||(this.haveOpend=!0,this.$domShare?this.$domShare.classList.remove("doHide"):this.createShareDom(),setTimeout(()=>{this.bindEvents()},0))}createShareDom(){this.$domShare=document.createElement("div"),this.$domShare.classList.add(m.prefix),this.$domShare.classList.add(`${m.prefix}—browser`),this.$domShare.innerHTML=`<div class="${m.prefix}-inner">\n            <h3 class="${m.prefix}-title">#分享价值#</h3>\n            <ul class="${m.prefix}-list">\n                <li class="${m.prefix}-item">\n                    <div class="${m.prefix}-icon ${m.prefix}-icon--wx"><i></i>微信</div>\n                    <div class="${m.prefix}-qrcode">\n                        <img src="https://raw.githubusercontent.com/coocssweb/coocssweb.github.io/master/photos/qrcode.png">\n                    </div>\n                </li>\n                <li class="${m.prefix}-item" >\n                    <div class="${m.prefix}-icon ${m.prefix}-icon--wb"><i></i>微博</div>\n                </li>\n                <li class="${m.prefix}-item" >\n                    <div class="${m.prefix}-icon ${m.prefix}-icon--qzone"><i></i>QQ空间</div>\n                </li>\n            </div>\n        </div>`,document.body.appendChild(this.$domShare),this.$domWeibo=document.querySelector(`.${m.prefix}-icon--wb`),this.$domQzone=document.querySelector(`.${m.prefix}-icon--qzone`)}openShare(e){window.open(e.currentTarget===this.$domWeibo?this.weiboUrl:this.qzoneUrl)}bindEvents(){document.addEventListener("click",this.handleOut),this.$domShare.addEventListener(this.animationEvent,this.handleDestory),this.$domWeibo.addEventListener("click",this.openShare),this.$domQzone.addEventListener("click",this.openShare)}unbindEvents(){document.removeEventListener("click",this.handleOut),this.$domShare.removeEventListener(this.animationEvent,this.handleDestory),this.$domWeibo.removeEventListener("click",this.openShare),this.$domQzone.removeEventListener("click",this.openShare)}handleOut(e){Object(l.a)(e.target,this.$domShare)||this.$domShare.classList.add("doOut")}handleDestory(){this.$domShare.classList.contains("doOut")&&(this.haveOpend=!1,this.unbindEvents(),this.$domShare.classList.add("doHide"),this.$domShare.classList.remove("doOut"))}}m.prefix="globalShare";var u=i("zF3x");i.d(t,"a",function(){return $});const p=Object(u.a)();class ${constructor(e,t,i){i=Object.assign({},$.defaultShareInfo,i),p.isWechat()?this.platform=new h(e,i):p.isQQ()?this.platform=new c(t,i):this.platform=new m(i)}setShareInfo(e){e=Object.assign({},$.defaultShareInfo,e),this.platform.setShareInfo(e)}callShare(){this.platform.callShare()}}$.defaultShareInfo={title:document.title,desc:"",link:window.location.href,imgUrl:""}}}]);
/**
 * 作者: 王佳欣
 * 站点: http://www.shuxia123.com
 */